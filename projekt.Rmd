---
title: "Poročilo pri predmetu Analiza podatkov s programom R"
author: "Ana Golob"
output:
  html_document: default
  pdf_document:
    includes:
      in_header: lib/styles.sty
    latex_engine: xelatex

---

```{r setup, echo=FALSE, results='hide', message=FALSE}

# Uvoz vseh potrebnih knjižnic
source("lib/libraries.r", encoding = "UTF-8")
```

# Izbira teme
V projektni nalogi bom analizirala gibanje menjalnih tečajev med valutami. Pri tem si bom kot glavno valuto izbrala euro. Opazovala bom višino menjalnih tečajev za nakup 1 USD, ter za nakup ene enote druge denarne valute z ameriškimi dolarji. Analizirani menjalni tečaji bodo izmerjeni v preteklem letu od dne zaganjanja programa.

***

# Obdelava, uvoz in čiščenje podatkov

```{r uvoz, echo=FALSE, message=FALSE}
source("uvoz/uvoz.r", encoding = "UTF-8")
```

Podatke smo, v obliki HTML, pridobili iz spletne strani http://www.xe.com/currencytables/?from=EUR&date=2017-11-01. Ker smo za vsak dan v letu 2016 zajeli novo tabelo in je postopek trajal nekaj časa, smo podatke nato shranili v 3 CSV datoteke (za vsako tretjino leta po eno).

Tabele v CSV datotekah so oblikovane v tidy data po vzorcu, ki je prikazan spodaj:
```{r tabela, echo=FALSE, message=FALSE}
tecaji1.tretjina2016 <- read.csv("podatki\\tecaji1tretjina.csv")
head(tecaji1.tretjina2016)
```
***

# Analiza in vizualizacija podatkov

```{r vizualizacija, echo=FALSE, message=FALSE, warning=FALSE}
source("vizualizacija/vizualizacija.r", encoding = "UTF-8")
```


Spodaj je prikazano gibanje tečajev za nakup enega ameriškega dolarja iz 162 svetovnih valut. Prikazani podatki so iz leta 2016.

```{r graf1, echo=FALSE, message=FALSE, fig.align='center', fig.cap='Gibanje tečajev za nakup USD'}
ggplot(data = tecaji.po.valutahR, aes(x = datumi, y = value, group = variable, colour=variable)) + 
  ggtitle('Gibanje tečajev za nakup USD') +
  xlab("Leto 2016") +
  ylab("Nakupni tečaji") +
  guides(colour=FALSE) +
  geom_line()
```

Ker je valut pteveč, si bomo ogledali dagajanje zgolj za 7 največjih svetovnih valut.

```{r graf2, echo=FALSE, message=FALSE, fig.align='center'}
ggplot(data = najpomembnejse.valute1, aes(x = datumi, y = value, 
                                          group = variable, colour=variable)) + 
  ggtitle("Tečaji za nakup USD iz navečjih svetovnih valut") +
  xlab("Leto 2016") +
  ylab("Nakupni tečaji") +
  labs(colour="Valute") +
  geom_line()
```



```{r graf3, echo=FALSE, message=FALSE, fig.align='center'}
ggplot(data = najpomembnejse.valute2, aes(x = datumi, y = value, 
                                         group = variable, colour=variable)) +
  ggtitle("Tečaji za nakup USD iz navečjih svetovnih valut") +
  xlab("Leto 2016") +
  ylab("Nakupni tečaji") +
  labs(colour="Valute") +
  geom_line()
```



```{r graf4, echo=FALSE, message=FALSE, fig.align='center'}
ggplot(urejeni.odkloni, aes(y=odklon, x=povprecje, colour=valuta)) + 
  ggtitle("Nihanje tečajev") +
  xlab("Povprečna vrednost tečaja") +
  ylab("Standardni odklon") +
  labs(colour="Valute") +
  geom_point(size=5)
```



